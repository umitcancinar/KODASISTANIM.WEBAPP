<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KODASISTANIM | Professional IDE</title>
    <!-- Sekme Ä°konu (Favicon) -->
    <link rel="icon" type="image/jpeg"
        href="https://raw.githubusercontent.com/umitcancinar/KODASISTANIM.WEBAPP/main/FAV%C4%B0CON.jpg">
    <!-- Google Fonts: Inter ve JetBrains Mono -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.36.1/min/vs/loader.min.js"></script>
</head>

<body>
    <canvas id="binaryBg"></canvas>

    <div class="screen-vignette"></div>

    <div class="app-container glass-panel">
        <header class="glass-header">
            <div class="brand-area">
                <div class="logo-wrapper glow-effect">
                    <span style="font-size: 24px;">ğŸš€</span>
                </div>
                <div class="brand-text">
                    KOD<span class="brand-accent">ASISTANIM</span>
                    <span class="brand-edition">PROFESSIONAL</span>
                </div>
            </div>

            <div class="toolbar-right">
                <div class="select-wrapper cyber-select-wrapper">
                    <select id="languageSelector" class="lang-select">
                        <option value="java" selected>â˜• Java 15</option>
                        <option value="python">ğŸ Python 3.10</option>
                        <option value="javascript">ğŸ“œ NodeJS 18</option>
                        <option value="csharp">ğŸ”· C# (Mono)</option>
                        <option value="cpp">ğŸ¦– C++ (GCC)</option>
                        <option value="go">ğŸ¹ Go 1.19</option>
                        <option value="typescript">ğŸ“˜ TypeScript</option>
                    </select>
                </div>

                <button id="themeToggle" class="btn-icon glow-hover" title="Tema DeÄŸiÅŸtir" onclick="toggleTheme()">
                    <span id="themeIcon">ğŸŒ™</span>
                </button>

                <button id="suggestionToggle" class="btn-icon glow-hover" title="Otomatik TamamlamayÄ± AÃ§/Kapat">
                    <span id="suggestionIcon">ğŸ’¡</span>
                </button>

                <button id="runBtn" class="btn btn-primary cyber-button-large" onclick="initiateExecution()">
                    <span class="btn-content">
                        <span class="icon-play">â–¶</span>
                        <span class="btn-text">SÄ°STEMÄ° BAÅLAT</span>
                    </span>
                    <div class="btn-glitch-effect"></div>
                </button>
            </div>
        </header>

        <div class="workspace">
            <div id="editor-wrapper">
                <div id="editor-container"></div>
            </div>

            <div id="output-panel">
                <div class="panel-header">
                    <div class="header-left">
                        <button class="btn-text cyber-link" onclick="clearOutput()">
                            <span class="icon-trash">ğŸ—‘ï¸</span> TEMÄ°ZLE
                        </button>
                    </div>
                    <div class="header-title">
                        <span class="terminal-icon">_></span> TERMINAL
                    </div>
                    <div class="header-right">
                        <div class="live-indicator">
                            <span class="blink-dot"></span> ONLINE
                        </div>
                    </div>
                </div>
                <!-- Ã‡Ä±ktÄ± EkranÄ± Matrix Arka Plan Animasyonu -->
                <div class="matrix-bg" id="matrixBg"></div>
                <div class="output-content custom-scrollbar" id="outputContent"></div>
            </div>
        </div>

        <div class="status-bar glass-footer">
            <div class="status-left">
                <span class="status-item icon-code"></span>
                <span id="cursorPos">Ln 1, Col 1</span>
                <span class="status-separator">|</span>
                <span id="fileType">UTF-8</span>
            </div>

            <div class="status-center">
                <span class="engineer-signature neon-text-anim">DEVELOPED BY UMITCANCINAR</span>
            </div>

            <div class="status-right">
                <div id="loadingIndicator" class="cyber-loader" style="display:none;">
                    <div class="scanner"></div>
                </div>
                <span id="statusMsg" class="status-badge-ready">SÄ°STEM HAZIR</span>
            </div>
        </div>
    </div>

    <div id="inputModal" class="modal-overlay backdrop-blur">
        <div class="modal-box cyber-modal">
            <div class="modal-bg-glow"></div>
            <div class="modal-header">
                <div class="header-main-title">
                    <div class="warning-icon-wrapper pulse-animation">
                        <span class="warning-icon">âš ï¸</span>
                    </div>
                    <div class="title-text">
                        <span>PROGRAM GÄ°RDÄ°SÄ°</span>
                        <span class="subtitle">Veri giriÅŸi bekleniyor...</span>
                    </div>
                </div>
                <button class="modal-close cyber-close" onclick="closeModal()">Ã—</button>
            </div>

            <div class="modal-body custom-scrollbar">
                <div id="modalDescContainer" class="info-panel">
                    <p id="modalDesc" class="info-text">Program aÅŸaÄŸÄ±daki verileri talep ediyor:</p>
                    <div
                        style="margin-top: 10px; padding: 8px; background: rgba(255, 170, 0, 0.1); border-left: 3px solid #ffaa00; font-size: 0.8rem; color: #ffca58; border-radius: 0 4px 4px 0;">
                        <strong>âš ï¸ UyarÄ±:</strong> JDoodle derleyicisinin Ã§Ã¶kmesini Ã¶nlemek iÃ§in lÃ¼tfen girdi
                        alanlarÄ±nda <strong>TÃ¼rkÃ§e Karakter (ÅŸ, ÄŸ, Ä±, vs.) GÄ°RMEYÄ°NÄ°Z</strong>.
                    </div>
                </div>

                <div id="dynamicInputs" class="dynamic-inputs-container"></div>
            </div>

            <div class="modal-footer">
                <button class="btn btn-secondary cyber-button-secondary" onclick="closeModal()">Ä°PTAL</button>
                <button class="btn btn-primary cyber-button-action" onclick="submitInput()">
                    <span class="btn-content"><span class="btn-text">GÃ–NDER VE Ã‡ALIÅTIR</span></span>
                    <div class="shimmer"></div>
                </button>
            </div>
        </div>
    </div>

    <!-- YAPAY ZEKA ASÄ°STAN WÄ°DGET'I:
         SaÄŸ alt kÃ¶ÅŸede yer alan yÃ¼zen AI sohbet dÃ¼ÄŸmesi ve paneli.
         toggleAIWidget() fonksiyonu ile aÃ§Ä±lÄ±p kapanÄ±r.
         Panel aÃ§Ä±kken kullanÄ±cÄ± editÃ¶rdeki kodunu AI'ya sorabilir. -->
    <div id="ai-widget-container">
        <button id="ai-toggle-btn" class="ai-toggle-btn glow-hover" onclick="toggleAIWidget()">
            <span class="ai-icon">âœ¨</span>
            <span class="ai-badge">AI</span>
        </button>

        <div id="ai-chat-panel" class="ai-chat-panel cyber-modal">
            <div class="ai-header modal-header" style="padding: 15px;">
                <div class="header-main-title">
                    <span class="ai-icon-large" style="font-size: 1.5rem; margin-right: 10px;">ğŸ¤–</span>
                    <div class="title-text">
                        <span>KOD ASÄ°STANIM</span>
                        <span class="subtitle" style="color: var(--primary-color);">Kodunu anlÄ±yor, dÃ¼zeltiyor,
                            Ã¶ÄŸretiyor âœ¨</span>
                    </div>
                </div>
                <button class="cyber-close" onclick="toggleAIWidget()">Ã—</button>
            </div>

            <div class="ai-api-key-area" style="display:none;">
                <div style="width: 100%;">
                    <div style="display: flex; gap: 10px;">
                        <input type="password" id="geminiApiKey" class="modal-input"
                            placeholder="Groq API Key Giriniz (Opsiyonel)..." />
                        <button class="btn-wizard" onclick="saveApiKey()">KAYDET</button>
                    </div>
                    <div style="margin-top: 8px; font-size: 0.75rem; color: var(--text-dim);">
                        Ã–zel anahtar kullanmak isterseniz: <a href="https://console.groq.com/keys" target="_blank"
                            class="cyber-link" style="color: var(--primary-color); text-decoration: underline;">Groq API
                            AlÄ±n</a>
                    </div>
                </div>
            </div>

            <div class="ai-chat-body custom-scrollbar" id="aiChatBody">
                <div class="ai-message ai-bot">
                    <div class="msg-content">ğŸ‘‹ Merhaba! Ben <strong>Kod AsistanÄ±nÄ±z</strong>.<br><br>
                        YaratÄ±cÄ±m <strong>Ãœmitcan Ã‡inar</strong> tarafÄ±ndan size yardÄ±mcÄ± olmak Ã¼zere bu IDE'ye entegre
                        edildim.<br><br>
                        EditÃ¶rdeki kodunuzu anlÄ±k olarak gÃ¶rebilir; <strong>hatalar</strong>, <strong>Ã¶neriler</strong>
                        ve <strong>iyileÅŸtirmeler</strong> konusunda size rehberlik edebilirim.<br><br>
                        <strong style="color: #ffaa00;">âš ï¸ Ã–NEMLÄ° UYARI:</strong> LÃ¼tfen kodlarÄ±nÄ±zda, konsol
                        girdilerinde veya bana sorduÄŸunuz sorularda <strong>TÃ¼rkÃ§e Karakter (ÅŸ, ÄŸ, Ä±, Ã¶, Ã§, Ã¼ vb.)
                            kullanmamaya Ã¶zen gÃ¶sterin</strong>. Sistem sunucularÄ±nda veya derleyicide Ã§Ã¶kme/hata
                        yaÅŸanabilir.<br><br>
                        Ä°ngilizce karakterlerle sormaya hazÄ±rsanÄ±z: ğŸš€ NasÄ±l yardimci olabilirim?
                    </div>
                </div>
            </div>

            <div class="ai-chat-footer">
                <textarea id="aiChatInput" class="modal-input custom-scrollbar" placeholder="MesajÄ±nÄ±z... (Kodu sor...)"
                    rows="2"></textarea>
                <button id="aiSendBtn" class="cyber-button-action" onclick="sendAIMessage()">
                    <span>GÃ¶nder</span>
                </button>
            </div>
        </div>
    </div>

    <div id="toast" class="cyber-toast">Ä°ÅŸlem TamamlandÄ±</div>
    <script src="script.js"></script>
    <script>
        function clearOutput() {
            document.getElementById('outputContent').innerHTML = '';
        }
    </script>
</body>

</html>